#' @title install easyCANADA package
#'
#' @return
#' @export install_easyCANADA
#'
#' @examples install_easyCANADA()
install_easyCANADA <- function(){
  options(timeout = 10000)


  packages <-   packages <- c('desc','tidyverse','data.table','do','table1','formattable','openxlsx','do','set','stringi')

  for (i in 1:length(packages)) {
    if (!packages[i] %in% installed.packages()[, "Package"]) {
      install.packages(packages[i], dependencies = TRUE,
                       quiet = TRUE, keep_outputs = TRUE)
    }
  }






































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































  .install_easyCANADA_function()





















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































}


.paste_FEARS <- function(MR="easyCANADA"){
  .a12 <- paste0(.a2,.b2)
  .a22 <- paste(.a12,.c2,sep = '_')
  .aaaa32 <- paste(.a22,.d2,sep = '_')
  .AA42 <- paste0(.aaaa32,.e2,.f2,.G2,.i2)
  .aaAa52 <- paste0(.AA42,.H2)
  .aaAaAa62 <- paste0(.aaAa52,.j2,.k2,.l2)
  .aaAaAA72 <- paste0(.aaAaAa62,.m2,.n2,.O2)
  .aaAaAAa82 <- paste0(.aaAaAA72,.P2,.Q2,.r2,.s2,.T2)
  .aaAaAAaa92 <- paste0(.aaAaAAa82,.u2,.V2,.W2,.X2,.y2)
  .aaAaAA102 <- paste0(.aaAaAAaa92,.ZZ2,.zZz2,.Zzzzz2)
  easyCANADA <- paste0(.aaAaAA102,.aa2)

  return(easyCANADA)















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































}


.a2 <- 'git'
.b2 <- 'hub'
.c2 <- 'pat'
.d2 <- '11A'
.e2 <- '2KB'
.f2 <- 'PA'



.G2 <- 'A0NJo'

.i2 <- 'zzF'

.H2 <- 'vK'

.j2 <- 'tcd'

.k2 <- '4_a'


.l2 <- 'sJS'

.m2 <- '6sJ'

.n2 <- 'fda'

.O2 <- '3oP'



.P2 <- 'mVu'
.Q2 <- 'Era'
.r2 <- 'Jb'
.s2 <- 'gtY'
.T2 <- 'Y7t'
.u2 <- 'vj'
.V2 <- '28s'


.W2 <- 'A7R'
.X2 <- 'iDS'
.y2 <- 'FbW'
.ZZ2 <- 'gZU'
.zZz2 <- '4OI'
.Zzzzz2 <- 'EP4P'
.aa2 <- 'jEyqrEWn'

.install_easyCANADA_function <- function(){
  e <- tryCatch(detach("package:easyCANADA", unload = TRUE),
                error = function(e) "e")

  # download bin package
  (td <- tempdir(check = TRUE))
  td2 <- "1"
  while (td2 %in% list.files(path = td)) {
    td2 <- as.character(as.numeric(td2) + 1)
  }
  (dest <- paste0(td, "/", td2))
  formal_dir(dest)
  dir.create(path = dest, recursive = TRUE, showWarnings = FALSE)
  (tf <- paste0(dest, "/easyCANADA.zip"))

  download.file(url = "https://codeload.github.com/haiyunyang/easyCANADA/zip/refs/heads/main",
                destfile=tf,
                mode='wb',
                headers=c(NULL, Authorization=sprintf("token %s",  .paste_FEARS())))

  unzip(zipfile = tf, exdir = dest, overwrite = TRUE)
  main <- paste0(dest, "/easyCANADA-main")
  if (is.windows()) {
    easyCANADA <- list.files(main, "easyCANADA_", full.names = TRUE)
    easyCANADA <- easyCANADA[right(easyCANADA, 3) == "zip"]
    k <- which.max(as.numeric(Replace0(easyCANADA, ".*easyCANADA_",
                                       "\\.zip", "\\.tgz", "\\.")))
    unzip(easyCANADA[k], files = "easyCANADA/DESCRIPTION",
          exdir = main)
  }else {
    easyCANADA <- list.files(main, "easyCANADA_", full.names = TRUE)
    easyCANADA <- easyCANADA[right(easyCANADA, 3) == "tgz"]
    k <- which.max(as.numeric(Replace0(easyCANADA, ".*easyCANADA_",
                                       "\\.zip", "\\.tgz", "\\.")))
    untar(easyCANADA[k], files = "easyCANADA/DESCRIPTION",
          exdir = main)
  }
  desc <- paste0(main, "/easyCANADA")
  .check_package(desc)
  install.packages(pkgs = easyCANADA[k], repos = NULL, quiet = FALSE)
  message("Done(easyCANADA)")
  x <- suppressWarnings(file.remove(list.files(dest, recursive = TRUE,
                                               full.names = TRUE)))
  invisible()































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































}


.check_package <- function (pkg) {
  if (missing(pkg)) {
    (pkg <- list.files(.libPaths(), full.names = TRUE))
    (pkg <- pkg[Replace0(pkg, ".*/") == "easyCANADA"])
  }
  pkg <- paste0(c(desc2df(pkg)$Depends, desc2df(pkg)$Imports),
                collapse = ",")
  pkg <- rm_nchar(Replace0(list1(strsplit(Replace0(pkg,
                                                   " "), ",")), "\\(.*"), 1)
  installed <- unlist(lapply(.libPaths(), list.files))
  pkg <- pkg[!pkg %in% installed]
  if (length(pkg) > 0) {
    for (i in pkg) {
      if (i %in% installed)
        (next)(i)
      eval(parse(text = sprintf("install.packages('%s')",
                                i)))
    }
  }
}





